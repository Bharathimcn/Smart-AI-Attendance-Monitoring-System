<!doctype html>
<html lang="en">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Smart AI Attendance System</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&amp;display=swap" rel="stylesheet">
  <style>
        body {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Inter', 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: white;
            min-height: 100vh;
        }

        /* Login Page Styles */
        .login-container {
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 20px;
        }

        .login-card {
            background: white;
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            width: 100%;
            max-width: 400px;
            text-align: center;
        }

        .login-title {
            font-size: 2rem;
            font-weight: 700;
            color: #333;
            margin-bottom: 10px;
        }

        .login-subtitle {
            color: #666;
            margin-bottom: 30px;
            font-size: 1rem;
        }

        .form-group {
            margin-bottom: 20px;
            text-align: left;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #333;
        }

        .form-control {
            width: 100%;
            padding: 15px;
            border: 2px solid #e5e7eb;
            border-radius: 10px;
            font-size: 1rem;
            transition: all 0.3s ease;
            box-sizing: border-box;
        }

        .form-control:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        .btn {
            padding: 15px 30px;
            border: none;
            border-radius: 10px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 1rem;
            width: 100%;
            margin-bottom: 15px;
        }

        .btn-primary {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.4);
        }

        .btn-secondary {
            background: linear-gradient(135deg, #10b981, #059669);
            color: white;
            box-shadow: 0 4px 15px rgba(16, 185, 129, 0.3);
        }

        .btn-secondary:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(16, 185, 129, 0.4);
        }

        /* Dashboard Styles */
        .dashboard {
            display: none;
            background: white;
            min-height: 100vh;
        }

        .dashboard.active {
            display: block;
        }

        .header {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 20px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
        }

        .header-content {
            max-width: 1400px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 15px;
        }

        .user-info {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .avatar {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.2);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 1.2rem;
        }

        .user-details h3 {
            margin: 0;
            font-size: 1.2rem;
        }

        .user-details p {
            margin: 0;
            opacity: 0.9;
            font-size: 0.9rem;
        }

        .logout-btn {
            background: rgba(255, 255, 255, 0.2);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .logout-btn:hover {
            background: rgba(255, 255, 255, 0.3);
        }

        .nav-tabs {
            background: white;
            padding: 0 20px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
        }

        .nav-tabs-container {
            max-width: 1400px;
            margin: 0 auto;
            display: flex;
            gap: 5px;
            padding: 15px 0;
        }

        .tab-btn {
            padding: 12px 20px;
            border: none;
            background: none;
            cursor: pointer;
            font-weight: 600;
            color: #666;
            border-radius: 8px;
            transition: all 0.3s ease;
            white-space: nowrap;
        }

        .tab-btn.active {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
        }

        .tab-btn:hover:not(.active) {
            background: #f3f4f6;
            color: #667eea;
        }

        .main-content {
            max-width: 1400px;
            margin: 0 auto;
            padding: 30px 20px;
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        .page-title {
            font-size: 2rem;
            font-weight: 700;
            color: #333;
            margin-bottom: 10px;
        }

        .page-subtitle {
            color: #666;
            font-size: 1.1rem;
            margin-bottom: 30px;
        }

        /* Responsive Grid System */
        .responsive-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 25px;
            margin-top: 30px;
        }

        @media (min-width: 768px) {
            .responsive-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        @media (min-width: 1024px) {
            .responsive-grid {
                grid-template-columns: repeat(3, 1fr);
            }
        }

        /* Card Styles */
        .card {
            background: white;
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
            border: 1px solid #e5e7eb;
            transition: all 0.3s ease;
        }

        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.12);
        }

        .card-header {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 20px;
        }

        .card-icon {
            width: 50px;
            height: 50px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            color: white;
            background: linear-gradient(135deg, #667eea, #764ba2);
        }

        .card-title {
            font-size: 1.2rem;
            font-weight: 700;
            color: #333;
            margin: 0;
        }

        .card-subtitle {
            font-size: 0.9rem;
            color: #666;
            margin: 0;
        }

        .stats-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px 0;
            border-bottom: 1px solid #f3f4f6;
        }

        .stats-row:last-child {
            border-bottom: none;
        }

        .stats-label {
            color: #666;
            font-size: 0.9rem;
        }

        .stats-value {
            font-weight: 700;
            font-size: 1rem;
        }

        .stats-value.high {
            color: #10b981;
        }

        .stats-value.medium {
            color: #f59e0b;
        }

        .stats-value.low {
            color: #ef4444;
        }

        /* CCTV Preview */
        .cctv-preview {
            background: #000;
            border-radius: 12px;
            height: 250px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.2rem;
            margin: 20px 0;
            position: relative;
            overflow: hidden;
        }

        .cctv-overlay {
            position: absolute;
            top: 15px;
            left: 15px;
            background: rgba(239, 68, 68, 0.9);
            color: white;
            padding: 8px 12px;
            border-radius: 6px;
            font-size: 0.8rem;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .live-dot {
            width: 8px;
            height: 8px;
            background: white;
            border-radius: 50%;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        /* Student Profile Cards */
        .student-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 20px;
            margin-top: 25px;
        }

        @media (min-width: 768px) {
            .student-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        @media (min-width: 1024px) {
            .student-grid {
                grid-template-columns: repeat(3, 1fr);
            }
        }

        .student-card {
            background: white;
            border: 2px solid #e5e7eb;
            border-radius: 12px;
            padding: 20px;
            text-align: center;
            transition: all 0.3s ease;
        }

        .student-card:hover {
            border-color: #667eea;
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.1);
        }

        .student-photo {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            margin: 0 auto 15px;
            background: linear-gradient(135deg, #667eea, #764ba2);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.5rem;
            font-weight: bold;
        }

        .student-name {
            font-size: 1.1rem;
            font-weight: 600;
            color: #333;
            margin-bottom: 5px;
        }

        .student-roll {
            color: #666;
            font-size: 0.9rem;
            margin-bottom: 15px;
        }

        .attendance-status {
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
        }

        .attendance-status.present {
            background: #dcfce7;
            color: #166534;
        }

        .attendance-status.absent {
            background: #fee2e2;
            color: #991b1b;
        }

        /* Manual Entry */
        .manual-entry-card {
            background: white;
            border: 2px solid #e5e7eb;
            border-radius: 12px;
            padding: 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
            transition: all 0.3s ease;
        }

        .manual-entry-card:hover {
            border-color: #667eea;
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.1);
        }

        .attendance-toggle {
            display: flex;
            gap: 8px;
        }

        .toggle-btn {
            padding: 8px 16px;
            border: 2px solid;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
            font-size: 0.8rem;
        }

        .toggle-btn.present {
            border-color: #10b981;
            color: #10b981;
            background: rgba(16, 185, 129, 0.1);
        }

        .toggle-btn.present.active {
            background: #10b981;
            color: white;
        }

        .toggle-btn.absent {
            border-color: #ef4444;
            color: #ef4444;
            background: rgba(239, 68, 68, 0.1);
        }

        .toggle-btn.absent.active {
            background: #ef4444;
            color: white;
        }

        /* Form Styles */
        .form-row {
            display: grid;
            grid-template-columns: 1fr;
            gap: 20px;
            margin-bottom: 25px;
        }

        @media (min-width: 768px) {
            .form-row {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        @media (min-width: 1024px) {
            .form-row {
                grid-template-columns: repeat(4, 1fr);
            }
        }

        .chart-container {
            height: 200px;
            margin: 20px 0;
            position: relative;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .header-content {
                flex-direction: column;
                text-align: center;
            }

            .nav-tabs-container {
                flex-wrap: wrap;
                justify-content: center;
            }

            .page-title {
                font-size: 1.5rem;
                text-align: center;
            }

            .page-subtitle {
                text-align: center;
            }

            .manual-entry-card {
                flex-direction: column;
                gap: 15px;
                text-align: center;
            }

            .card {
                padding: 20px;
            }
        }

        @media (max-width: 480px) {
            .main-content {
                padding: 20px 15px;
            }

            .card {
                padding: 15px;
            }

            .tab-btn {
                padding: 10px 15px;
                font-size: 0.8rem;
            }
        }
    </style>
  <style>@view-transition { navigation: auto; }</style>
  <script src="/_sdk/data_sdk.js" type="text/javascript"></script>
  <script src="/_sdk/element_sdk.js" type="text/javascript"></script>
  <script src="https://cdn.tailwindcss.com" type="text/javascript"></script>
 </head>
 <body><!-- Login Page -->
  <div id="loginPage" class="login-container">
   <div class="login-card">
    <h1 class="login-title">üéØ Smart AI Attendance</h1>
    <p class="login-subtitle">CCTV-Based Monitoring System</p>
    <div class="form-group"><label>Username</label> <input type="text" class="form-control" id="username" placeholder="Enter your username">
    </div>
    <div class="form-group"><label>Password</label> <input type="password" class="form-control" id="password" placeholder="Enter your password">
    </div><button class="btn btn-primary" onclick="login('hod')"> üëë Login as HOD </button> <button class="btn btn-secondary" onclick="login('faculty')"> üë®‚Äçüè´ Login as Faculty </button>
   </div>
  </div><!-- HOD Dashboard -->
  <div id="hodDashboard" class="dashboard">
   <header class="header">
    <div class="header-content">
     <div class="user-info">
      <div class="avatar">
       HD
      </div>
      <div class="user-details">
       <h3>Dr. Rajesh Kumar</h3>
       <p>Head of Department - Computer Science</p>
      </div>
     </div><button class="logout-btn" onclick="logout()">üö™ Logout</button>
    </div>
   </header>
   <nav class="nav-tabs">
    <div class="nav-tabs-container"><button class="tab-btn active" onclick="switchTab('hodOverview')">üìä Faculty Overview</button> <button class="tab-btn" onclick="switchTab('hodAnalytics')">üìà Student Analytics</button> <button class="tab-btn" onclick="switchTab('hodManual')">‚úèÔ∏è Manual Entry</button>
    </div>
   </nav>
   <main class="main-content"><!-- HOD Faculty Overview -->
    <div id="hodOverviewTab" class="tab-content active">
     <h1 class="page-title">üëë Faculty Performance Dashboard</h1>
     <p class="page-subtitle">Monitor all faculty attendance and performance metrics</p>
     <div class="responsive-grid"><!-- Faculty Cards -->
      <div class="card">
       <div class="card-header">
        <div class="card-icon">
         üë©‚Äçüè´
        </div>
        <div>
         <h3 class="card-title">Dr. Priya Sharma</h3>
         <p class="card-subtitle">Data Structures &amp; Algorithms</p>
        </div>
       </div>
       <div class="stats-row"><span class="stats-label">Section</span> <span class="stats-value">CSE-A, 2nd Year</span>
       </div>
       <div class="stats-row"><span class="stats-label">Today's Class</span> <span class="stats-value">9:00 AM - 10:00 AM</span>
       </div>
       <div class="stats-row"><span class="stats-label">Subject</span> <span class="stats-value">Data Structures &amp; Algorithms</span>
       </div>
      </div>
      <div class="card">
       <div class="card-header">
        <div class="card-icon">
         üë®‚Äçüè´
        </div>
        <div>
         <h3 class="card-title">Prof. Amit Verma</h3>
         <p class="card-subtitle">Database Management</p>
        </div>
       </div>
       <div class="stats-row"><span class="stats-label">Section</span> <span class="stats-value">CSE-B, 3rd Year</span>
       </div>
       <div class="stats-row"><span class="stats-label">Today's Class</span> <span class="stats-value">10:00 AM - 11:00 AM</span>
       </div>
       <div class="stats-row"><span class="stats-label">Subject</span> <span class="stats-value">Database Management</span>
       </div>
      </div>
      <div class="card">
       <div class="card-header">
        <div class="card-icon">
         üë©‚Äçüíª
        </div>
        <div>
         <h3 class="card-title">Dr. Sunita Gupta</h3>
         <p class="card-subtitle">Machine Learning</p>
        </div>
       </div>
       <div class="stats-row"><span class="stats-label">Section</span> <span class="stats-value">CSE-C, 4th Year</span>
       </div>
       <div class="stats-row"><span class="stats-label">Today's Class</span> <span class="stats-value">11:00 AM - 12:00 PM</span>
       </div>
       <div class="stats-row"><span class="stats-label">Subject</span> <span class="stats-value">Machine Learning</span>
       </div>
      </div>
      <div class="card">
       <div class="card-header">
        <div class="card-icon">
         üë®‚Äçüíº
        </div>
        <div>
         <h3 class="card-title">Dr. Ravi Kumar</h3>
         <p class="card-subtitle">Software Engineering</p>
        </div>
       </div>
       <div class="stats-row"><span class="stats-label">Section</span> <span class="stats-value">CSE-D, 3rd Year</span>
       </div>
       <div class="stats-row"><span class="stats-label">Today's Class</span> <span class="stats-value">2:00 PM - 3:00 PM</span>
       </div>
       <div class="stats-row"><span class="stats-label">Subject</span> <span class="stats-value">Software Engineering</span>
       </div>
      </div>
      <div class="card">
       <div class="card-header">
        <div class="card-icon">
         üë©‚Äçüî¨
        </div>
        <div>
         <h3 class="card-title">Prof. Meera Singh</h3>
         <p class="card-subtitle">Computer Networks</p>
        </div>
       </div>
       <div class="stats-row"><span class="stats-label">Section</span> <span class="stats-value">CSE-A, 2nd Year</span>
       </div>
       <div class="stats-row"><span class="stats-label">Today's Class</span> <span class="stats-value">3:00 PM - 4:00 PM</span>
       </div>
       <div class="stats-row"><span class="stats-label">Subject</span> <span class="stats-value">Computer Networks</span>
       </div>
      </div>
      <div class="card">
       <div class="card-header">
        <div class="card-icon">
         üë®‚Äçüî¨
        </div>
        <div>
         <h3 class="card-title">Dr. Vikram Thakur</h3>
         <p class="card-subtitle">Operating Systems</p>
        </div>
       </div>
       <div class="stats-row"><span class="stats-label">Section</span> <span class="stats-value">CSE-B, 3rd Year</span>
       </div>
       <div class="stats-row"><span class="stats-label">Today's Class</span> <span class="stats-value">4:00 PM - 5:00 PM</span>
       </div>
       <div class="stats-row"><span class="stats-label">Subject</span> <span class="stats-value">Operating Systems</span>
       </div>
      </div>
     </div>
    </div><!-- HOD Analytics -->
    <div id="hodAnalyticsTab" class="tab-content">
     <h1 class="page-title">üìä Student Analytics Dashboard</h1>
     <p class="page-subtitle">Comprehensive attendance analytics across all sections</p><!-- 2nd Year Sections -->
     <h2 style="color: #333; margin: 30px 0 20px 0; font-size: 1.5rem; border-bottom: 2px solid #667eea; padding-bottom: 10px;">üìö CSE 2nd Year Sections</h2>
     <div class="responsive-grid" style="margin-bottom: 40px;">
      <div class="card">
       <div class="card-header">
        <div class="card-icon">
         üìà
        </div>
        <div>
         <h3 class="card-title">CSE-A (2nd Year)</h3>
         <p class="card-subtitle">60 Students</p>
        </div>
       </div>
       <div class="chart-container">
        <canvas id="chart2A"></canvas>
       </div>
       <div class="stats-row"><span class="stats-label">Average Attendance</span> <span class="stats-value high">89%</span>
       </div>
      </div>
      <div class="card">
       <div class="card-header">
        <div class="card-icon">
         üìà
        </div>
        <div>
         <h3 class="card-title">CSE-B (2nd Year)</h3>
         <p class="card-subtitle">58 Students</p>
        </div>
       </div>
       <div class="chart-container">
        <canvas id="chart2B"></canvas>
       </div>
       <div class="stats-row"><span class="stats-label">Average Attendance</span> <span class="stats-value high">87%</span>
       </div>
      </div>
      <div class="card">
       <div class="card-header">
        <div class="card-icon">
         üìà
        </div>
        <div>
         <h3 class="card-title">CSE-C (2nd Year)</h3>
         <p class="card-subtitle">60 Students</p>
        </div>
       </div>
       <div class="chart-container">
        <canvas id="chart2C"></canvas>
       </div>
       <div class="stats-row"><span class="stats-label">Average Attendance</span> <span class="stats-value high">87.5%</span>
       </div>
      </div>
     </div><!-- 3rd Year Sections -->
     <h2 style="color: #333; margin: 30px 0 20px 0; font-size: 1.5rem; border-bottom: 2px solid #667eea; padding-bottom: 10px;">üéì CSE 3rd Year Sections</h2>
     <div class="responsive-grid">
      <div class="card">
       <div class="card-header">
        <div class="card-icon">
         üìà
        </div>
        <div>
         <h3 class="card-title">CSE-A (3rd Year)</h3>
         <p class="card-subtitle">58 Students</p>
        </div>
       </div>
       <div class="chart-container">
        <canvas id="chart3A"></canvas>
       </div>
       <div class="stats-row"><span class="stats-label">Average Attendance</span> <span class="stats-value high">88%</span>
       </div>
      </div>
      <div class="card">
       <div class="card-header">
        <div class="card-icon">
         üìà
        </div>
        <div>
         <h3 class="card-title">CSE-B (3rd Year)</h3>
         <p class="card-subtitle">56 Students</p>
        </div>
       </div>
       <div class="chart-container">
        <canvas id="chart3B"></canvas>
       </div>
       <div class="stats-row"><span class="stats-label">Average Attendance</span> <span class="stats-value medium">82%</span>
       </div>
      </div>
      <div class="card">
       <div class="card-header">
        <div class="card-icon">
         üìà
        </div>
        <div>
         <h3 class="card-title">CSE-C (3rd Year)</h3>
         <p class="card-subtitle">56 Students</p>
        </div>
       </div>
       <div class="chart-container">
        <canvas id="chart3C"></canvas>
       </div>
       <div class="stats-row"><span class="stats-label">Average Attendance</span> <span class="stats-value medium">83.5%</span>
       </div>
      </div>
     </div><!-- Individual Performance Section -->
     <h2 style="color: #333; margin: 40px 0 20px 0; font-size: 1.5rem; border-bottom: 2px solid #667eea; padding-bottom: 10px;">üë§ Individual Performance</h2>
     <div class="card" style="margin-bottom: 30px;">
      <div class="card-header">
       <div class="card-icon">
        üîç
       </div>
       <div>
        <h3 class="card-title">Student Lookup</h3>
        <p class="card-subtitle">Enter roll number to view individual attendance</p>
       </div>
      </div>
      <div style="display: flex; gap: 15px; align-items: end; flex-wrap: wrap;">
       <div class="form-group" style="flex: 1; min-width: 250px;"><label>Roll Number</label> <input type="text" class="form-control" id="rollNumberInput" placeholder="Enter roll number (e.g., CSE2021A001)" style="margin-bottom: 0;">
       </div><button class="btn btn-primary" onclick="searchStudent()" style="padding: 15px 30px; margin-bottom: 0;"> üîç Search </button>
      </div>
      <div id="studentResult" style="display: none; margin-top: 25px; padding: 20px; background: #f8f9fa; border-radius: 10px; border-left: 4px solid #667eea;">
       <div style="display: flex; align-items: center; gap: 15px; margin-bottom: 15px;">
        <div id="studentAvatar" style="width: 60px; height: 60px; border-radius: 50%; background: linear-gradient(135deg, #667eea, #764ba2); display: flex; align-items: center; justify-content: center; color: white; font-size: 1.3rem; font-weight: bold;"></div>
        <div>
         <h4 id="studentName" style="margin: 0; color: #333; font-size: 1.2rem;"></h4>
         <p id="studentRoll" style="margin: 0; color: #666; font-size: 0.9rem;"></p>
        </div>
       </div>
       <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px;">
        <div><span style="color: #666; font-size: 0.9rem;">Overall Attendance</span><br><span id="studentAttendance" style="font-weight: 700; font-size: 1.5rem; color: #10b981;"></span>
        </div>
        <div><span style="color: #666; font-size: 0.9rem;">Section</span><br><span id="studentSection" style="font-weight: 600; font-size: 1.1rem; color: #333;"></span>
        </div>
        <div><span style="color: #666; font-size: 0.9rem;">Status</span><br><span id="studentStatus" style="font-weight: 600; font-size: 1.1rem;"></span>
        </div>
       </div>
      </div>
      <div id="noStudentFound" style="display: none; margin-top: 20px; padding: 15px; background: #fee2e2; color: #991b1b; border-radius: 8px; text-align: center;">
       ‚ùå No student found with this roll number. Please check and try again.
      </div>
     </div>
    </div><!-- HOD Manual Entry -->
    <div id="hodManualTab" class="tab-content">
     <h1 class="page-title">‚úèÔ∏è Manual Attendance Entry</h1>
     <p class="page-subtitle">Override AI detection for system maintenance or errors</p>
     <div class="card" style="margin-bottom: 30px;">
      <div class="card-header">
       <div class="card-icon">
        üéØ
       </div>
       <div>
        <h3 class="card-title">Select Class for Manual Entry</h3>
        <p class="card-subtitle">Choose section to override AI detection</p>
       </div>
      </div>
      <div class="form-row">
       <div class="form-group"><label>Branch</label> <select class="form-control" id="hodBranchSelect"> <option>Computer Science</option> <option>Electronics</option> <option>Mechanical</option> </select>
       </div>
       <div class="form-group"><label>Year</label> <select class="form-control" id="hodYearSelect"> <option>2nd Year</option> <option>3rd Year</option> <option>4th Year</option> </select>
       </div>
       <div class="form-group"><label>Section</label> <select class="form-control" id="hodSectionSelect"> <option>A</option> <option>B</option> <option>C</option> <option>D</option> </select>
       </div>
      </div>
      <div style="text-align: center; margin: 20px 0;"><button class="btn btn-primary" onclick="loadHODManualEntry()" style="padding: 15px 30px; font-size: 1.1rem;"> üë• Load Students </button>
      </div>
     </div>
     <div id="hodStudentSearchContainer" style="display: none; margin-bottom: 25px;">
      <div class="card">
       <div class="card-header">
        <div class="card-icon">
         üîç
        </div>
        <div>
         <h3 class="card-title">Search Students</h3>
         <p class="card-subtitle">Find student by roll number or name</p>
        </div>
       </div>
       <div style="display: flex; gap: 15px; align-items: end; flex-wrap: wrap;">
        <div class="form-group" style="flex: 1; min-width: 250px;"><label>Search by Roll Number or Name</label> <input type="text" class="form-control" id="hodStudentSearch" placeholder="Enter roll number or student name" oninput="filterHODStudents()" style="margin-bottom: 0;">
        </div><button class="btn btn-secondary" onclick="clearHODSearch()" style="padding: 15px 20px; margin-bottom: 0;"> üîÑ Clear </button>
       </div>
      </div>
     </div>
     <div id="hodManualEntryGrid"></div>
     <div style="margin-top: 30px; text-align: center;"><button class="btn btn-primary" onclick="saveHODManualAttendance()" style="padding: 15px 40px; font-size: 1.1rem;"> üíæ Save Manual Attendance </button>
     </div>
    </div>
   </main>
  </div><!-- Faculty Dashboard -->
  <div id="facultyDashboard" class="dashboard">
   <header class="header">
    <div class="header-content">
     <div class="user-info">
      <div class="avatar">
       PS
      </div>
      <div class="user-details">
       <h3>Dr. Priya Sharma</h3>
       <p>Faculty - Data Structures &amp; Algorithms</p>
      </div>
     </div><button class="logout-btn" onclick="logout()">üö™ Logout</button>
    </div>
   </header>
   <nav class="nav-tabs">
    <div class="nav-tabs-container"><button class="tab-btn active" onclick="switchTab('facultyHome')">üè† Home</button> <button class="tab-btn" onclick="switchTab('facultyCCTV')">üìπ CCTV Attendance</button> <button class="tab-btn" onclick="switchTab('facultyAnalytics')">üìä Analytics</button>
    </div>
   </nav>
   <main class="main-content"><!-- Faculty Home -->
    <div id="facultyHomeTab" class="tab-content active">
     <h1 class="page-title">üè† Faculty Dashboard</h1>
     <p class="page-subtitle">Select your class to view student profiles and take attendance</p>
     <div class="card" style="margin-bottom: 30px;">
      <div class="card-header">
       <div class="card-icon">
        üéØ
       </div>
       <div>
        <h3 class="card-title">Select Your Class</h3>
        <p class="card-subtitle">Choose section to view student profiles</p>
       </div>
      </div>
      <div class="form-row">
       <div class="form-group"><label>Branch</label> <select class="form-control" id="facultyBranchSelect"> <option>Computer Science</option> <option>Electronics</option> <option>Mechanical</option> </select>
       </div>
       <div class="form-group"><label>Year</label> <select class="form-control" id="facultyYearSelect"> <option>2nd Year</option> <option>3rd Year</option> <option>4th Year</option> </select>
       </div>
       <div class="form-group"><label>Section</label> <select class="form-control" id="facultySectionSelect"> <option>A</option> <option>B</option> <option>C</option> <option>D</option> </select>
       </div>
       <div class="form-group" style="display: flex; align-items: end;"><button class="btn btn-primary" onclick="loadStudentProfiles()" style="width: 100%;"> üë• Load Students </button>
       </div>
      </div>
     </div>
     <div id="studentProfilesGrid" class="student-grid"></div>
    </div><!-- Faculty CCTV -->
    <div id="facultyCCTVTab" class="tab-content">
     <h1 class="page-title">üìπ CCTV Attendance System</h1>
     <p class="page-subtitle">Connect to classroom CCTV and take AI-powered attendance</p>
     <div class="card" style="margin-bottom: 30px;">
      <div class="card-header">
       <div class="card-icon">
        üìπ
       </div>
       <div>
        <h3 class="card-title">CCTV Camera Feed</h3>
        <p class="card-subtitle">Live classroom monitoring</p>
       </div>
      </div>
      <div class="cctv-preview" id="cctvPreview">
       <div class="cctv-overlay">
        <div class="live-dot"></div> LIVE
       </div>
       <div style="text-align: center;">
        <div style="font-size: 4rem; margin-bottom: 15px;">
         üìπ
        </div>
        <div style="font-size: 1.3rem; margin-bottom: 5px;">
         Classroom Camera Feed
        </div>
        <div style="font-size: 1rem; opacity: 0.7;">
         CSE-A Classroom - Ready for AI Detection
        </div>
       </div>
      </div>
      <div style="text-align: center; margin-top: 20px; display: flex; gap: 15px; justify-content: center; flex-wrap: wrap;"><button class="btn btn-primary" onclick="connectCCTV()"> üìπ Connect to CCTV </button> <button class="btn btn-secondary" onclick="startAttendance()"> ü§ñ Start AI Attendance </button>
      </div>
     </div>
     <div id="attendanceResults" style="display: none;">
      <div class="card">
       <div class="card-header">
        <div class="card-icon">
         ‚úÖ
        </div>
        <div>
         <h3 class="card-title">Attendance Results</h3>
         <p class="card-subtitle">AI Detection Complete</p>
        </div>
       </div>
       <div class="stats-row"><span class="stats-label">Total Students</span> <span class="stats-value">32</span>
       </div>
       <div class="stats-row"><span class="stats-label">Present</span> <span class="stats-value high">25</span>
       </div>
       <div class="stats-row"><span class="stats-label">Absent</span> <span class="stats-value low">7</span>
       </div>
       <div style="margin: 20px 0;">
        <h4 style="color: #333; margin-bottom: 15px; font-size: 1.1rem;">üìã Students Present:</h4>
        <div id="presentStudentsList" style="background: #f8f9fa; padding: 15px; border-radius: 8px; max-height: 200px; overflow-y: auto;">
         <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 8px; font-size: 0.9rem;">
          <div>
           ‚úÖ Arjun Sharma
          </div>
          <div>
           ‚úÖ Priya Patel
          </div>
          <div>
           ‚úÖ Rohit Kumar
          </div>
          <div>
           ‚úÖ Sneha Gupta
          </div>
          <div>
           ‚úÖ Anjali Verma
          </div>
          <div>
           ‚úÖ Riya Jain
          </div>
          <div>
           ‚úÖ Sanjay Kumar
          </div>
          <div>
           ‚úÖ Neha Patel
          </div>
          <div>
           ‚úÖ Manish Gupta
          </div>
          <div>
           ‚úÖ Divya Singh
          </div>
          <div>
           ‚úÖ Shreya Agarwal
          </div>
          <div>
           ‚úÖ Meera Sharma
          </div>
          <div>
           ‚úÖ Rahul Joshi
          </div>
          <div>
           ‚úÖ Kavya Reddy
          </div>
          <div>
           ‚úÖ Amit Agarwal
          </div>
          <div>
           ‚úÖ Pooja Sharma
          </div>
          <div>
           ‚úÖ Rajesh Kumar
          </div>
          <div>
           ‚úÖ Sunita Gupta
          </div>
          <div>
           ‚úÖ Anita Verma
          </div>
          <div>
           ‚úÖ Lakshmi Devi
          </div>
          <div>
           ‚úÖ Geeta Sharma
          </div>
          <div>
           ‚úÖ Sita Verma
          </div>
          <div>
           ‚úÖ Radha Patel
          </div>
          <div>
           ‚úÖ Usha Gupta
          </div>
          <div>
           ‚úÖ Naresh Sharma
          </div>
         </div>
        </div>
       </div>
       <div style="text-align: center; margin-top: 20px;"><button class="btn btn-primary" onclick="confirmAttendance()"> ‚úÖ Confirm &amp; Save Attendance </button>
       </div>
      </div>
     </div>
    </div><!-- Faculty Analytics -->
    <div id="facultyAnalyticsTab" class="tab-content">
     <h1 class="page-title">üìä Class Analytics</h1>
     <p class="page-subtitle">Attendance performance and trends for your classes</p>
     <div class="responsive-grid">
      <div class="card">
       <div class="card-header">
        <div class="card-icon">
         üìà
        </div>
        <div>
         <h3 class="card-title">Overall Performance</h3>
         <p class="card-subtitle">CSE-A Data Structures</p>
        </div>
       </div>
       <div class="chart-container">
        <canvas id="facultyChart"></canvas>
       </div>
       <div class="stats-row"><span class="stats-label">Average Attendance</span> <span class="stats-value high">89%</span>
       </div>
       <div class="stats-row"><span class="stats-label">Best Day</span> <span class="stats-value">Monday (95%)</span>
       </div>
       <div class="stats-row"><span class="stats-label">Improvement</span> <span class="stats-value high">+5% this month</span>
       </div>
      </div>
      <div class="card">
       <div class="card-header">
        <div class="card-icon">
         üë•
        </div>
        <div>
         <h3 class="card-title">Top Performers</h3>
         <p class="card-subtitle">Highest attendance students</p>
        </div>
       </div>
       <div class="stats-row"><span class="stats-label">Arjun Sharma</span> <span class="stats-value high">98%</span>
       </div>
       <div class="stats-row"><span class="stats-label">Priya Patel</span> <span class="stats-value high">96%</span>
       </div>
       <div class="stats-row"><span class="stats-label">Rohit Kumar</span> <span class="stats-value high">94%</span>
       </div>
       <div class="stats-row"><span class="stats-label">Sneha Gupta</span> <span class="stats-value high">92%</span>
       </div>
      </div>
      <div class="card">
       <div class="card-header">
        <div class="card-icon">
         ‚ö†Ô∏è
        </div>
        <div>
         <h3 class="card-title">Needs Attention</h3>
         <p class="card-subtitle">Low attendance students</p>
        </div>
       </div>
       <div class="stats-row"><span class="stats-label">Vikash Singh</span> <span class="stats-value low">65%</span>
       </div>
       <div class="stats-row"><span class="stats-label">Deepak Yadav</span> <span class="stats-value low">68%</span>
       </div>
       <div class="stats-row"><span class="stats-label">Karan Verma</span> <span class="stats-value medium">72%</span>
       </div>
       <div class="stats-row"><span class="stats-label">Vishal Kumar</span> <span class="stats-value medium">75%</span>
       </div>
      </div>
     </div>
    </div>
   </main>
  </div>
  <script>
        let currentUser = null;
        let attendanceData = {};
        let currentSection = 'A';
        let currentHODStudents = [];

        // Student data for different sections
        const studentData = {
            'A': [
                { name: 'Arjun Sharma', roll: 'CSE2021A001', attendance: 98 },
                { name: 'Priya Patel', roll: 'CSE2021A002', attendance: 96 },
                { name: 'Rohit Kumar', roll: 'CSE2021A003', attendance: 94 },
                { name: 'Sneha Gupta', roll: 'CSE2021A004', attendance: 92 },
                { name: 'Vikash Singh', roll: 'CSE2021A005', attendance: 65 },
                { name: 'Anjali Verma', roll: 'CSE2021A006', attendance: 88 },
                { name: 'Deepak Yadav', roll: 'CSE2021A007', attendance: 68 },
                { name: 'Riya Jain', roll: 'CSE2021A008', attendance: 91 },
                { name: 'Sanjay Kumar', roll: 'CSE2021A009', attendance: 87 },
                { name: 'Neha Patel', roll: 'CSE2021A010', attendance: 93 },
                { name: 'Manish Gupta', roll: 'CSE2021A011', attendance: 85 },
                { name: 'Divya Singh', roll: 'CSE2021A012', attendance: 89 }
            ],
            'B': [
                { name: 'Karan Verma', roll: 'CSE2021B001', attendance: 72 },
                { name: 'Shreya Agarwal', roll: 'CSE2021B002', attendance: 94 },
                { name: 'Vishal Kumar', roll: 'CSE2021B003', attendance: 75 },
                { name: 'Meera Sharma', roll: 'CSE2021B004', attendance: 91 },
                { name: 'Rahul Joshi', roll: 'CSE2021B005', attendance: 88 },
                { name: 'Kavya Reddy', roll: 'CSE2021B006', attendance: 92 },
                { name: 'Amit Agarwal', roll: 'CSE2021B007', attendance: 86 },
                { name: 'Pooja Sharma', roll: 'CSE2021B008', attendance: 89 },
                { name: 'Rajesh Kumar', roll: 'CSE2021B009', attendance: 83 },
                { name: 'Sunita Gupta', roll: 'CSE2021B010', attendance: 90 },
                { name: 'Vikram Singh', roll: 'CSE2021B011', attendance: 77 },
                { name: 'Anita Verma', roll: 'CSE2021B012', attendance: 85 }
            ],
            'C': [
                { name: 'Suresh Patel', roll: 'CSE2021C001', attendance: 79 },
                { name: 'Lakshmi Devi', roll: 'CSE2021C002', attendance: 87 },
                { name: 'Ramesh Kumar', roll: 'CSE2021C003', attendance: 82 },
                { name: 'Geeta Sharma', roll: 'CSE2021C004', attendance: 90 },
                { name: 'Mukesh Gupta', roll: 'CSE2021C005', attendance: 74 },
                { name: 'Sita Verma', roll: 'CSE2021C006', attendance: 88 },
                { name: 'Dinesh Singh', roll: 'CSE2021C007', attendance: 81 },
                { name: 'Radha Patel', roll: 'CSE2021C008', attendance: 93 },
                { name: 'Mahesh Kumar', roll: 'CSE2021C009', attendance: 76 },
                { name: 'Usha Gupta', roll: 'CSE2021C010', attendance: 89 },
                { name: 'Naresh Sharma', roll: 'CSE2021C011', attendance: 84 },
                { name: 'Kamala Devi', roll: 'CSE2021C012', attendance: 86 }
            ],
            'D': [
                { name: 'Anil Kumar', roll: 'CSE2021D001', attendance: 85 },
                { name: 'Sunita Singh', roll: 'CSE2021D002', attendance: 91 },
                { name: 'Ravi Sharma', roll: 'CSE2021D003', attendance: 78 },
                { name: 'Meena Patel', roll: 'CSE2021D004', attendance: 87 },
                { name: 'Sunil Gupta', roll: 'CSE2021D005', attendance: 83 },
                { name: 'Rekha Verma', roll: 'CSE2021D006', attendance: 89 },
                { name: 'Ajay Singh', roll: 'CSE2021D007', attendance: 80 },
                { name: 'Nisha Kumar', roll: 'CSE2021D008', attendance: 92 },
                { name: 'Vinod Sharma', roll: 'CSE2021D009', attendance: 77 },
                { name: 'Seema Gupta', roll: 'CSE2021D010', attendance: 88 },
                { name: 'Manoj Patel', roll: 'CSE2021D011', attendance: 82 },
                { name: 'Asha Singh', roll: 'CSE2021D012', attendance: 90 }
            ]
        };

        // Login function
        function login(userType) {
            const username = document.getElementById('username').value;
            const password = document.getElementById('password').value;
            
            if (!username || !password) {
                alert('Please enter both username and password!');
                return;
            }
            
            currentUser = userType;
            document.getElementById('loginPage').style.display = 'none';
            
            if (userType === 'hod') {
                document.getElementById('hodDashboard').classList.add('active');
                setTimeout(initializeCharts, 100);
            } else {
                document.getElementById('facultyDashboard').classList.add('active');
            }
        }

        // Logout function
        function logout() {
            currentUser = null;
            document.getElementById('loginPage').style.display = 'flex';
            document.getElementById('hodDashboard').classList.remove('active');
            document.getElementById('facultyDashboard').classList.remove('active');
            
            // Clear form fields
            document.getElementById('username').value = '';
            document.getElementById('password').value = '';
        }

        // Tab switching
        function switchTab(tabName) {
            const prefix = currentUser === 'hod' ? 'hod' : 'faculty';
            
            // Hide all tabs
            document.querySelectorAll(`#${prefix}Dashboard .tab-content`).forEach(tab => {
                tab.classList.remove('active');
            });
            
            // Remove active from all nav buttons
            document.querySelectorAll(`#${prefix}Dashboard .tab-btn`).forEach(btn => {
                btn.classList.remove('active');
            });
            
            // Show selected tab
            document.getElementById(tabName + 'Tab').classList.add('active');
            event.target.classList.add('active');
            
            // Initialize charts if needed
            if (tabName.includes('Analytics')) {
                setTimeout(initializeCharts, 100);
            }
        }

        // Load student profiles for faculty
        function loadStudentProfiles() {
            const section = document.getElementById('facultySectionSelect').value;
            currentSection = section;
            const grid = document.getElementById('studentProfilesGrid');
            grid.innerHTML = '';
            
            const students = studentData[section] || studentData['A'];
            
            students.forEach(student => {
                const card = document.createElement('div');
                card.className = 'student-card';
                card.innerHTML = `
                    <div class="student-photo">${student.name.split(' ').map(n => n[0]).join('')}</div>
                    <div class="student-name">${student.name}</div>
                    <div class="student-roll">${student.roll}</div>
                    <div class="attendance-status ${student.attendance >= 85 ? 'present' : 'absent'}">
                        ${student.attendance}% Attendance
                    </div>
                `;
                grid.appendChild(card);
            });
        }

        // HOD Manual Entry
        function loadHODManualEntry() {
            const section = document.getElementById('hodSectionSelect').value;
            currentHODStudents = studentData[section] || studentData['A'];
            
            // Show search container
            document.getElementById('hodStudentSearchContainer').style.display = 'block';
            
            // Clear search
            document.getElementById('hodStudentSearch').value = '';
            
            // Display all students initially
            displayHODStudents(currentHODStudents);
        }
        
        function displayHODStudents(students) {
            const grid = document.getElementById('hodManualEntryGrid');
            grid.innerHTML = '';
            
            students.forEach(student => {
                const card = document.createElement('div');
                card.className = 'manual-entry-card';
                card.innerHTML = `
                    <div>
                        <strong style="color: #333; font-size: 1rem;">${student.name}</strong><br>
                        <small style="color: #666;">${student.roll}</small>
                    </div>
                    <div class="attendance-toggle">
                        <button class="toggle-btn present" onclick="toggleAttendance(this, '${student.name}', 'present')">Present</button>
                        <button class="toggle-btn absent" onclick="toggleAttendance(this, '${student.name}', 'absent')">Absent</button>
                    </div>
                `;
                grid.appendChild(card);
            });
        }
        
        function filterHODStudents() {
            const searchTerm = document.getElementById('hodStudentSearch').value.toLowerCase().trim();
            
            if (!searchTerm) {
                displayHODStudents(currentHODStudents);
                return;
            }
            
            // Filter students by roll number or name
            const filteredStudents = currentHODStudents.filter(student => 
                student.roll.toLowerCase().includes(searchTerm) || 
                student.name.toLowerCase().includes(searchTerm)
            );
            
            // Sort to show exact roll number matches first
            filteredStudents.sort((a, b) => {
                const aRollExact = a.roll.toLowerCase() === searchTerm;
                const bRollExact = b.roll.toLowerCase() === searchTerm;
                const aRollMatch = a.roll.toLowerCase().includes(searchTerm);
                const bRollMatch = b.roll.toLowerCase().includes(searchTerm);
                
                // Exact roll number matches first
                if (aRollExact && !bRollExact) return -1;
                if (!aRollExact && bRollExact) return 1;
                
                // Then partial roll number matches
                if (aRollMatch && !bRollMatch) return -1;
                if (!aRollMatch && bRollMatch) return 1;
                
                // Finally sort by roll number
                return a.roll.localeCompare(b.roll);
            });
            
            displayHODStudents(filteredStudents);
        }
        
        function clearHODSearch() {
            document.getElementById('hodStudentSearch').value = '';
            displayHODStudents(currentHODStudents);
        }

        function toggleAttendance(btn, studentName, status) {
            const card = btn.closest('.manual-entry-card');
            const buttons = card.querySelectorAll('.toggle-btn');
            
            buttons.forEach(b => b.classList.remove('active'));
            btn.classList.add('active');
            
            attendanceData[studentName] = status;
        }

        function saveHODManualAttendance() {
            const presentCount = Object.values(attendanceData).filter(status => status === 'present').length;
            const absentCount = Object.values(attendanceData).filter(status => status === 'absent').length;
            
            if (presentCount === 0 && absentCount === 0) {
                alert('‚ö†Ô∏è Please mark attendance for at least one student!');
                return;
            }
            
            alert(`‚úÖ Manual attendance saved successfully!\n\nPresent: ${presentCount}\nAbsent: ${absentCount}\n\nData synced with AI system.`);
        }

        // CCTV Functions
        function connectCCTV() {
            const preview = document.getElementById('cctvPreview');
            preview.innerHTML = `
                <div class="cctv-overlay">
                    <div class="live-dot"></div>
                    CONNECTED
                </div>
                <div style="text-align: center;">
                    <div style="font-size: 4rem; margin-bottom: 15px;">üìπ</div>
                    <div style="font-size: 1.3rem; margin-bottom: 5px; color: #10b981;">CCTV Connected Successfully!</div>
                    <div style="font-size: 1rem; opacity: 0.7;">Ready for AI attendance detection</div>
                </div>
            `;
            alert('üìπ CCTV camera connected successfully! Ready for attendance.');
        }

        function startAttendance() {
            alert('ü§ñ AI detection started! Scanning classroom...');
            
            setTimeout(() => {
                document.getElementById('attendanceResults').style.display = 'block';
                alert('‚úÖ AI detection completed! 25 students present, 7 absent out of 32 total students.');
            }, 3000);
        }

        function confirmAttendance() {
            alert('‚úÖ Attendance confirmed and saved to database!\n\nNotifications sent to absent students and HOD.');
        }

        // Initialize charts
        function initializeCharts() {
            const chartOptions = {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        display: false
                    }
                },
                scales: {
                    y: {
                        beginAtZero: true,
                        max: 100,
                        ticks: {
                            callback: function(value) {
                                return value + '%';
                            }
                        }
                    }
                }
            };

            const charts = [
                // 2nd Year Charts
                { id: 'chart2A', data: [85, 88, 92, 87, 91, 89], color: '#10b981' },
                { id: 'chart2B', data: [82, 86, 88, 83, 87, 87], color: '#10b981' },
                { id: 'chart2C', data: [84, 87, 89, 85, 88, 87.5], color: '#10b981' },
                // 3rd Year Charts
                { id: 'chart3A', data: [83, 86, 90, 85, 89, 88], color: '#f59e0b' },
                { id: 'chart3B', data: [78, 81, 84, 79, 83, 82], color: '#f59e0b' },
                { id: 'chart3C', data: [80, 83, 85, 81, 84, 83.5], color: '#f59e0b' },
                // Faculty Chart
                { id: 'facultyChart', data: [85, 88, 92, 87, 91, 89], color: '#667eea' }
            ];

            charts.forEach(chart => {
                const canvas = document.getElementById(chart.id);
                if (canvas && canvas.getContext) {
                    new Chart(canvas, {
                        type: 'line',
                        data: {
                            labels: ['Week 1', 'Week 2', 'Week 3', 'Week 4', 'Week 5', 'Week 6'],
                            datasets: [{
                                data: chart.data,
                                backgroundColor: chart.color + '20',
                                borderColor: chart.color,
                                borderWidth: 3,
                                fill: true,
                                tension: 0.4,
                                pointBackgroundColor: chart.color,
                                pointBorderColor: '#fff',
                                pointBorderWidth: 2,
                                pointRadius: 6
                            }]
                        },
                        options: chartOptions
                    });
                }
            });
        }

        // Search student function
        function searchStudent() {
            const rollNumber = document.getElementById('rollNumberInput').value.trim().toUpperCase();
            
            if (!rollNumber) {
                alert('Please enter a roll number!');
                return;
            }
            
            // Hide previous results
            document.getElementById('studentResult').style.display = 'none';
            document.getElementById('noStudentFound').style.display = 'none';
            
            // Search through all sections
            let foundStudent = null;
            let foundSection = '';
            
            for (const [section, students] of Object.entries(studentData)) {
                const student = students.find(s => s.roll.toUpperCase() === rollNumber);
                if (student) {
                    foundStudent = student;
                    foundSection = section;
                    break;
                }
            }
            
            if (foundStudent) {
                // Display student information
                document.getElementById('studentName').textContent = foundStudent.name;
                document.getElementById('studentRoll').textContent = foundStudent.roll;
                document.getElementById('studentAvatar').textContent = foundStudent.name.split(' ').map(n => n[0]).join('');
                document.getElementById('studentAttendance').textContent = foundStudent.attendance + '%';
                document.getElementById('studentSection').textContent = 'CSE-' + foundSection;
                
                // Set status based on attendance
                const statusElement = document.getElementById('studentStatus');
                if (foundStudent.attendance >= 85) {
                    statusElement.textContent = 'Excellent';
                    statusElement.style.color = '#10b981';
                } else if (foundStudent.attendance >= 75) {
                    statusElement.textContent = 'Good';
                    statusElement.style.color = '#f59e0b';
                } else {
                    statusElement.textContent = 'Needs Improvement';
                    statusElement.style.color = '#ef4444';
                }
                
                document.getElementById('studentResult').style.display = 'block';
            } else {
                document.getElementById('noStudentFound').style.display = 'block';
            }
        }

        // Initialize on page load
        document.addEventListener('DOMContentLoaded', function() {
            console.log('Smart AI Attendance System Loaded! üéØ');
        });
    </script>
 <script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9afbf77dc213c195',t:'MTc2NjAzMjY2NS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>